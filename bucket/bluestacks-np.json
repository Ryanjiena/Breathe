{
    "version": "5.21.150.1024",
    "description": "Android emulator",
    "homepage": "https://www.bluestacks.com/",
    "license": {
        "identifier": "Freeware",
        "url": "https://www.bluestacks.com/tw/terms-and-privacy.html"
    },
    "architecture": {
        "64bit": {
            "url": "https://cdn3.bluestacks.com/downloads/windows/nxt/5.21.150.1024/e74e7ed6f3b5aea57d172527cb632da9/FullInstaller/x64/BlueStacksFullInstaller_5.21.150.1024_amd64_native.exe#/setup.exe",
            "hash": "b1db1a0ba7ff279853c090199ad36bd9014a2b055f965c1577e0ab9a0f692759"
        },
        "32bit": {
            "url": "https://cdn3.bluestacks.com/downloads/windows/nxt/5.21.150.1024/e74e7ed6f3b5aea57d172527cb632da9/FullInstaller/x86/BlueStacksFullInstaller_5.21.150.1024_x86_native.exe#/setup.exe",
            "hash": "774713aaf2bb7ee4b11fd188b302823499894cb2c91a0d40c54e7e3cd0f7f746"
        }
    },
    "installer": {
        "script": [
            "if (!(is_admin)) { \"$app requires admin rights to $cmd\"; break }",
            "Start-Process -Wait \"$dir\\setup.exe\" \"-s\" -Verb RunAs",
            "Remove-Item \"$Env:Public\\Desktop\\BlueStacks 5*.lnk\""
        ]
    },
    "uninstaller": {
        "script": [
            "if (!(is_admin)) { \"$app requires admin rights to $cmd\"; break }",
            "$uninstaller = (Get-ItemProperty -ErrorAction Ignore \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\BlueStacks_nxt\" -Name UninstallString).UninstallString",
            "if (!$uninstaller) { $uninstaller = (Get-ItemProperty -ErrorAction Ignore \"HKLM:\\SOFTWARE\\Wow6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\BlueStacks_nxt\" -Name UninstallString).UninstallString }",
            "if (!$uninstaller) { warn 'Could not find app info in registry' }",
            "# Remove -tmp at the end",
            "$uninstaller = $uninstaller.Substring(0, $uninstaller.Length - 5)",
            "Start-Process -Wait \"$uninstaller\" \"-s\" -Verb RunAs"
        ]
    },
    "checkver": {
        "url": "https://webcache.googleusercontent.com/search?q=cache:https://support.bluestacks.com/hc/en-us/articles/4402611273485-BlueStacks-5-offline-installer",
        "regex": "windows/nxt/([\\d.]+)/(?<sha>[0-9a-f]+)/"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://cdn3.bluestacks.com/downloads/windows/nxt/$version/$matchSha/FullInstaller/x64/BlueStacksFullInstaller_$version_amd64_native.exe#/setup.exe"
            },
            "32bit": {
                "url": "https://cdn3.bluestacks.com/downloads/windows/nxt/$version/$matchSha/FullInstaller/x86/BlueStacksFullInstaller_$version_x86_native.exe#/setup.exe"
            }
        }
    }
}
