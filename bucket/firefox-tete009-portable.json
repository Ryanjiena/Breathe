{
    "version": "100.0",
    "description": "tete009 private builds (Win32) of Mozilla Firefox.",
    "homepage": "http://www1.plala.or.jp/tete009/en-US/software.html#FFDL#FIREFOX",
    "license": {
        "identifier": "MPL-2.0"
    },
    "notes": [
        "Language packs:",
        "- <http://releases.mozilla.org/pub/mozilla.org/firefox/releases/100.0.2/win32/xpi/>",
        "- <http://releases.mozilla.org/pub/mozilla.org/firefox/releases/100.0.2/win64/xpi/>"
    ],
    "architecture": {
        "64bit": {
            "url": "https://pan.jiemi.workers.dev/?file=/scoop/tete009/firefox-100.0-2022042819.en-US.win32-tete009-x64-pgo.7z",
            "hash": "b596b7a4bc7fab95820c7902131019e9f1b0b1a08c45ca0319939d854f2a495c"
        },
        "32bit": {
            "url": "https://pan.jiemi.workers.dev/?file=/scoop/tete009/firefox-100.0-2022042819.en-US.win32-tete009-sse2-pgo.7z",
            "hash": "3ae459f80eed8855ab5dc40336ed2e7beb23a472b49dba00ab3b816cefda4cf6"
        }
    },
    "pre_install": [
        "$firefoxdir = (Get-ChildItem \"$dir\" | Select-Object -First 1).FullName",
        "New-Item -Path \"$dir\" -Name \"App\" -ItemType \"directory\" | Out-Null",
        "Move-Item \"$firefoxdir\\*\" \"$dir\\App\\\" -ErrorAction 'SilentlyContinue' -Force",
        "if (!(Test-Path \"$persist_dir\\App\\tmemutil.ini\")) {",
        "    Copy-Item \"$bucketsdir\\tian\\scripts\\tete009\\tmemutil.ini\" \"$dir\\App\\tmemutil.ini\" -ErrorAction 'SilentlyContinue' -Force | Out-Null",
        "}"
    ],
    "bin": "App\\firefox.exe",
    "shortcuts": [
        [
            "App\\firefox.exe",
            "Firefox"
        ]
    ],
    "persist": [
        "Profiles",
        "App\\tmemutil.ini"
    ],
    "checkver": {
        "url": "https://github.com/Ryanjiena/MetaVersion/raw/main/oneindex.txt",
        "regex": "firefox-(1[\\d.]+)-(?<date>\\d+).en-US.win32-tete009-x64-pgo\\.7z",
        "reverse": true
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://pan.jiemi.workers.dev/?file=/scoop/tete009/firefox-$version-$matchDate.en-US.win32-tete009-x64-pgo.7z",
                "hash": {
                    "url": "http://www1.plala.or.jp/tete009/en-US/software.html#FFDL",
                    "regex": "(?sm)x64.*?SHA256.*?$sha256"
                }
            },
            "32bit": {
                "url": "https://pan.jiemi.workers.dev/?file=/scoop/tete009/firefox-$version-$matchDate.en-US.win32-tete009-sse2-pgo.7z",
                "hash": {
                    "url": "http://www1.plala.or.jp/tete009/en-US/software.html#FFDL",
                    "regex": "(?sm)SSE2.*?SHA256.*?$sha256"
                }
            }
        }
    }
}
