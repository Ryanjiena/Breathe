{
    "version": "2.10.4.200396",
    "description": "Netease Cloud Music(music.163.com) Official Client.",
    "homepage": "https://music.163.com",
    "license": {
        "identifier": "Proprietary",
        "url": "https://st.music.163.com/official-terms/service"
    },
    "url": "https://d1.music.126.net/dmusic/NeteaseCloudMusic_Music_official_2.10.4.200396.exe#/dl.7z",
    "hash": "36ac04ec1c35cdb13cdbcfb4a8cba00ab0a3ec4dc18e177610553251a5b97d7d",
    "pre_install": [
        "Get-ChildItem \"$dir\\redist_packages\" | Move-Item -Destination \"$dir\" -ErrorAction 'SilentlyContinue' -Force",
        "Remove-Item \"$dir\\`$PLUGINSDIR\", \"$dir\\redist_packages\" -ErrorAction 'SilentlyContinue' -Force -Recurse"
    ],
    "installer": {
        "script": [
            "if (!(Test-Path \"$persist_dir\\appdata\") -and (Test-Path \"$env:LOCALAPPDATA\\Netease\\CloudMusic\")) {",
            "    Copy-Item \"$env:LOCALAPPDATA\\Netease\\CloudMusic\" \"$persist_dir\\appdata\" -ErrorAction 'SilentlyContinue' -Recurse -Force",
            "    Remove-Item \"$env:LOCALAPPDATA\\Netease\\CloudMusic\" -ErrorAction 'SilentlyContinue' -Recurse -Force",
            "}",
            "ensure \"$persist_dir\\appdata\" | Out-Null",
            "New-Item \"$env:LOCALAPPDATA\\Netease\\CloudMusic\" -ItemType Junction -Target \"$persist_dir\\appdata\" | Out-Null"
        ]
    },
    "uninstaller": {
        "script": "Remove-Item \"$env:LOCALAPPDATA\\Netease\\CloudMusic\" -ErrorAction 'SilentlyContinue' -Force -Recurse"
    },
    "shortcuts": [
        [
            "cloudmusic.exe",
            "Netease\\Netease Cloud Music"
        ]
    ],
    "checkver": {
        "url": "https://github.com/Ryanjiena/MetaVersion/raw/main/header.json",
        "jsonpath": "$[?(@.name == 'cloudmusic')].redirect",
        "regex": "NeteaseCloudMusic_Music_official_([\\d.]+)\\.exe"
    },
    "autoupdate": {
        "url": "https://d1.music.126.net/dmusic/NeteaseCloudMusic_Music_official_$version.exe#/dl.7z"
    }
}
