{
    "version": "5.4.5.1412",
    "description": "DiskGenius Dll 劫持补丁(By @keaver2k).",
    "homepage": "https://www.423down.com/8073.html",
    "license": {
        "identifier": "Freeware"
    },
    "depends": "diskgenius-en-portable-5.4.5.1412",
    "url": "https://pan.jiemi.workers.dev/?file=/scoop/patch/diskgenius/dg5.4.5.1412.7z#/dl.7z_",
    "hash": "9c7893d592cac16e64079bdb3ed129fb251f8676f3ef6c9ad2bd1a4ce0db03be",
    "architecture": {
        "64bit": {
            "pre_install": "Expand-7zipArchive \"$dir\\dl.7z_\" -Switches '-p2022' -ExtractDir \"x64\" -Removal | Out-Null"
        },
        "32bit": {
            "pre_install": "Expand-7zipArchive \"$dir\\dl.7z_\" -Switches '-p2022' -ExtractDir \"x86\" -Removal | Out-Null"
        }
    },
    "post_install": [
        "Get-ChildItem $dir -Exclude *install.json, *manifest.json | ForEach-Object {",
        "  Get-ChildItem \"$(scoop prefix diskgenius-en-portable-5.4.5.1412)\\$($_.Name)\" | Rename-Item -NewName { $_.Name + '.metabak' }",
        "  Copy-Item $_.FullName -destination \"$(scoop prefix diskgenius-en-portable-5.4.5.1412)\" -Force -ErrorAction SilentlyContinue",
        "}"
    ],
    "pre_uninstall": [
        "Get-ChildItem $dir -Exclude *install.json, *manifest.json | ForEach-Object {",
        "  Remove-Item \"$(scoop prefix diskgenius-en-portable-5.4.5.1412)\\$($_.Name)\" -Force -ErrorAction SilentlyContinue",
        "  Get-ChildItem \"$(scoop prefix diskgenius-en-portable-5.4.5.1412)\\$($_.Name).metabak\" | Rename-Item -NewName { $_.Name -replace '.metabak', '' }",
        "}"
    ]
}
