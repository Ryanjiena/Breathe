{
    "version": "5.4.6.1441",
    "description": "DiskGenius Dll 劫持补丁(By @keaver2k).",
    "homepage": "https://www.423down.com/8073.html",
    "license": {
        "identifier": "Freeware"
    },
    "depends": "diskgenius-en-portable-5.4.6.1441",
    "url": "https://pan.jiemi.workers.dev/?file=/scoop/patch/diskgenius/Diskgenius_Chs_Version(5.4.6.1441).7z#/dl.7z_",
    "hash": "6b8d158b80e414493007d2c4086de93ee080fd7882614ad13670c8e1d60947ec",
    "architecture": {
        "64bit": {
            "pre_install": "Expand-7zipArchive \"$dir\\dl.7z_\" -Switches '-p2022' -ExtractDir \"x64\" -Removal | Out-Null"
        },
        "32bit": {
            "pre_install": "Expand-7zipArchive \"$dir\\dl.7z_\" -Switches '-p2022' -ExtractDir \"x86\" -Removal | Out-Null"
        }
    },
    "post_install": [
        "Get-ChildItem $dir -Exclude *install.json, *manifest.json | ForEach-Object {",
        "  Get-ChildItem \"$(scoop prefix diskgenius-en-portable-5.4.6.1441)\\$($_.Name)\" | Rename-Item -NewName { $_.Name + '.metabak' }",
        "  Copy-Item $_.FullName -destination \"$(scoop prefix diskgenius-en-portable-5.4.6.1441)\" -Force -ErrorAction SilentlyContinue",
        "}"
    ],
    "pre_uninstall": [
        "Get-ChildItem $dir -Exclude *install.json, *manifest.json | ForEach-Object {",
        "  Remove-Item \"$(scoop prefix diskgenius-en-portable-5.4.6.1441)\\$($_.Name)\" -Force -ErrorAction SilentlyContinue",
        "  Get-ChildItem \"$(scoop prefix diskgenius-en-portable-5.4.6.1441)\\$($_.Name).metabak\" | Rename-Item -NewName { $_.Name -replace '.metabak', '' }",
        "}"
    ]
}
