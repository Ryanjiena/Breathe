{
    "version": "0.1.20240709+b6909a8c7",
    "description": "MoonBit is an end-to-end programming language toolchain for cloud and edge computing using WebAssembly.",
    "homepage": "https://www.moonbitlang.com/",
    "license": "Unknown",
    "architecture": {
        "64bit": {
            "url": [
                "https://github.com/chawyehsu/moonbit-binaries/releases/download/v0.1.20240709+b6909a8c7/moonbit-core-v0.1.20240709+b6909a8c7.zip",
                "https://github.com/chawyehsu/moonbit-binaries/releases/download/v0.1.20240709+b6909a8c7/moonbit-v0.1.20240709+b6909a8c7-win-x64.zip"
            ],
            "hash": [
                "e73679f74e55c763df9afc4fdbb19b982c908d216d2453ebb3c0b00ee82a9948",
                "abdd07d22ac54bc8b0616c015128fd66a50ce804864fbedfd91a6c9d80306fe2"
            ]
        }
    },
    "pre_install": "New-Item -ItemType Directory -Force -Path \"$dir\\lib\" | Out-Null",
    "post_install": [
        "function CreateFile([String] $file, [String] $content = $null) {",
        "    if (!(Test-Path \"$persist_dir\\$file\")) {",
        "        New-Item -Force -Path \"$persist_dir\\$file\" -ItemType file -Value $content | Out-Null",
        "    }",
        "}",
        "CreateFile 'credentials.json'",
        "Move-Item -Path \"$dir\\core\" -Destination \"$dir\\lib\"",
        "Push-Location \"$dir\\lib\\core\"",
        "& moon bundle --all",
        "Pop-Location"
    ],
    "bin": [
        "moon.exe",
        "moonc.exe",
        "mooncake.exe",
        "moondoc.exe",
        "moonfmt.exe",
        "mooninfo.exe",
        "moonrun.exe",
        "moon_cove_report.exe"
    ],
    "env_set": {
        "MOON_HOME": "$dir"
    },
    "persist": [
        "registry",
        "credentials.json"
    ],
    "checkver": {
        "github": "https://github.com/chawyehsu/moonbit-binaries",
        "regex": "v([\\d.]+(\\+[a-z0-9]+)?)"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": [
                    "https://github.com/chawyehsu/moonbit-binaries/releases/download/v$version/moonbit-core-v$version.zip",
                    "https://github.com/chawyehsu/moonbit-binaries/releases/download/v$version/moonbit-v$version-win-x64.zip"
                ]
            }
        },
        "hash": {
            "url": "$url.sha256",
            "regex": "([a-f0-9]{64})"
        }
    }
}
