{
    "version": "5.1.0",
    "description": "WinDynamicDesktop ports the Dynamic Desktop feature from macOS Mojave to Windows 10. It uses your location to determine the times of sunrise and sunset, and changes your desktop wallpaper based on the time of day. Choose a theme and enter your location the first time you run the app, then it will minimize to your system tray and change the wallpaper in the background. You can import custom themes or create your own, and customize the app to automatically change the Windows 10 theme color or update your location periodically.",
    "homepage": "https://github.com/t1m0thyj/WinDynamicDesktop",
    "license": {
        "identifier": "MPL-2.0",
        "url": "https://github.com/t1m0thyj/WinDynamicDesktop/raw/main/LICENSE"
    },
    "notes": "This app uses the LocationIQ API to convert your location to latitude and longitude, or the Windows location API if permission is granted. Location data is anonymous and never saved without your consent.",
    "architecture": {
        "64bit": {
            "url": "https://github.com/t1m0thyj/WinDynamicDesktop/releases/download/v5.1.0/WinDynamicDesktop_5.1.0_x64_Portable.exe#/WinDynamicDesktop.exe",
            "hash": "7a96864fe4efdb9fa4fdd737e142f9ef02155d84b3a8363bb0cc6febf45e8ba9"
        },
        "32bit": {
            "url": "https://github.com/t1m0thyj/WinDynamicDesktop/releases/download/v5.1.0/WinDynamicDesktop_5.1.0_x86_Portable.exe#/WinDynamicDesktop.exe",
            "hash": "551e8d4f3e4d8f3964bbf3b80a4821c7c17a8f4838f651c54a2aedaf6ea4dd64"
        }
    },
    "pre_install": [
        "$current_dir = if (get_config NO_JUNCTIONS) { $dir } else { \"$(scoop prefix $app)\" }",
        "if (!(Test-Path \"$persist_dir\\WinDynamicDesktop.pth\")) {",
        "    Set-Content \"$dir\\WinDynamicDesktop.pth\" $current_dir -Encoding ASCII",
        "}",
        "if (!(Test-Path \"$persist_dir\\settings.json\")) { New-Item \"$dir\\settings.json\" -Value '{\"disableAutoUpdate\": true}' | Out-Null }"
    ],
    "shortcuts": [
        [
            "WinDynamicDesktop.exe",
            "WinDynamicDesktop"
        ]
    ],
    "persist": [
        "scripts",
        "themes",
        "WinDynamicDesktop.pth",
        "settings.json"
    ],
    "checkver": "github",
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/t1m0thyj/WinDynamicDesktop/releases/download/v$version/WinDynamicDesktop_$version_x64_Portable.exe#/WinDynamicDesktop.exe",
                "hash": {
                    "url": "$baseurl/checksums.txt",
                    "mode": "extract",
                    "regex": "$sha256\\s+$basename"
                }
            },
            "32bit": {
                "url": "https://github.com/t1m0thyj/WinDynamicDesktop/releases/download/v$version/WinDynamicDesktop_$version_x86_Portable.exe#/WinDynamicDesktop.exe",
                "hash": {
                    "url": "$baseurl/checksums.txt",
                    "mode": "extract",
                    "regex": "$sha256\\s+$basename"
                }
            }
        }
    }
}
