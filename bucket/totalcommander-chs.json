{
    "version": "7.0a",
    "description": "Total Commander Simplified Chinese Enhanced Edition, maintained by iyoung(飞扬时空).",
    "homepage": "https://www.ghisler.com",
    "license": {
        "identifier": "Shareware"
    },
    "notes": "Features: <http://iyoung.ys168.com>",
    "architecture": {
        "64bit": {
            "url": "https://pan.jiemi.workers.dev/?file=/scoop/iyoung/TCCEE_x64_v7.0a(10.00).7z",
            "hash": "6c6dd2520f3feab32159c18df226248f17a9d7b9889f18447d733db32f3273ab",
            "extract_dir": "TCCEE",
            "shortcuts": [
                [
                    "TOTALCMD64.EXE",
                    "Total Commander"
                ]
            ]
        },
        "32bit": {
            "url": "https://pan.jiemi.workers.dev/?file=/scoop/iyoung/TCCEE_x86_v7.0a(10.00).7z",
            "hash": "3baaead25c46ffdfdb231885393749fdebbc67aacc2d97ab2ebd206562e3d057",
            "extract_dir": "TCCEE",
            "shortcuts": [
                [
                    "TOTALCMD.EXE",
                    "Total Commander"
                ]
            ]
        }
    },
    "pre_install": [
        "@('Language\\Wcmd_chn.ini', 'Language\\Wcmd_chn.mnu', 'User\\TCIgnore.ini', 'User\\User.ini', 'Default.bar', 'Vertical.bar', 'WinCMD.ini', 'Wincmd.key') | ForEach-Object {",
        "  if (!(Test-Path \"$persist_dir\\$($_.Name)\")) { New-Item \"$dir\\$($_.Name)\" -ItemType File | Out-Null }",
        "}"
    ],
    "persist": [
        "plugins",
        "Language\\Wcmd_chn.ini",
        "Language\\Wcmd_chn.mnu",
        "User\\TCIgnore.ini",
        "User\\User.ini",
        "Default.bar",
        "Vertical.bar",
        "WinCMD.ini",
        "Wincmd.key"
    ],
    "checkver": {
        "url": "https://github.com/Ryanjiena/MetaVersion/raw/main/oneindex.txt",
        "regex": "(?sm)(?<x64>TCCEE_x64_v([\\w.]+).*?)\\.7z.*?(?<x86>TCCEE_x86.*?)\\.7z",
        "reverse": true
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://pan.jiemi.workers.dev/?file=/scoop/iyoung/$matchX64.7z"
            },
            "32bit": {
                "url": "https://pan.jiemi.workers.dev/?file=/scoop/iyoung/$matchX86.7z"
            }
        }
    }
}
