{
    "version": "5.20.10",
    "description": "Lark - The Next-Gen Collaboration Suite. Lark is a next-generation office suite that integrates messaging, schedule management, collaborative documents, video conferencing, and many more applications in a single platform.",
    "homepage": "https://www.larksuite.com/en_us/",
    "license": {
        "identifier": "Proprietary",
        "url": "https://www.larksuite.com/en_us/user-terms-of-service"
    },
    "url": "https://sf16-va.larksuitecdn.com/obj/lark-artifact-storage/b85bde/Lark-win32_ia32-5.20.10-signed.exe#/dl.7z",
    "hash": "md5:b85bde6cc8a1659a73177abf92c5153e",
    "pre_install": [
        "if (Test-Path \"$env:AppData\\LarkInternational\") {",
        "    info '[Persistent data]: Copying user data...'",
        "    ensure \"$persist_dir\" | Out-Null",
        "    Copy-Item \"$env:AppData\\LarkInternational\\*\" \"$persist_dir\\\" -Recurse -Force -ErrorAction 'SilentlyContinue'",
        "    Remove-Item \"$env:AppData\\LarkInternational\" -Recurse -Force -ErrorAction 'SilentlyContinue'",
        "}",
        "ensure \"$persist_dir\" | Out-Null",
        "New-Item \"$env:AppData\\LarkInternational\" -ItemType Junction -Target \"$persist_dir\" | Out-Null"
    ],
    "pre_uninstall": "Remove-Item \"$env:AppData\\LarkInternational\" -Recurse -Force -ErrorAction 'SilentlyContinue'",
    "shortcuts": [
        [
            "Lark.exe",
            "ByteDance\\Lark"
        ]
    ],
    "checkver": {
        "url": "https://www.larksuite.com/api/downloads",
        "jsonpath": "$.versions.Windows",
        "regex": "(?sm)https://(?<link>.*?.exe).*?version_number.*?V([\\d.]+)"
    },
    "autoupdate": {
        "url": "https://$matchLink#/dl.7z",
        "hash": {
            "url": "https://www.larksuite.com/api/downloads",
            "mode": "json",
            "jsonpath": "$.versions.Windows.hash"
        }
    }
}
