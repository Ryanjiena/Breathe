{
    "version": "2022.10.0",
    "description": "Password management solutions for individuals, teams, and business organizations",
    "homepage": "https://bitwarden.com",
    "license": {
        "identifier": "Unknown|GPL-3.0-or-later",
        "url": "https://github.com/bitwarden/clients/raw/master/LICENSE.txt"
    },
    "architecture": {
        "64bit": {
            "url": "https://github.com/bitwarden/clients/releases/download/desktop-v2022.10.0/Bitwarden-2022.10.0-x64.nsis.7z",
            "hash": "sha512:6999059983093a6e5e5d75be0c9de5ea9ba9c9dd6dbb9b57d0e37e3deb3084f1b5c2e8dfaee035fc695d5519fd415892e0b44d63d155244333f578e71e3e3c56"
        },
        "32bit": {
            "url": "https://github.com/bitwarden/clients/releases/download/desktop-v2022.10.0/Bitwarden-2022.10.0-ia32.nsis.7z",
            "hash": "sha512:41c13e57196bef0986aba58c719e0bc277e3f43b70c15fafd0b48c8e1b51542fd14385f94504c3db759cda4d7282151d79686fdf26c552be9b25b8d2bbd92f0b"
        }
    },
    "pre_install": [
        "# copy config from non-portable version",
        "if (!(Test-Path \"$dir\\User Data\\*\") -and (Test-Path \"$env:APPDATA\\Bitwarden\")) {",
        "    if (!(Test-Path \"$dir\\User Data\")) { New-Item \"$dir\\User Data\" -ItemType Directory | Out-Null }",
        "    ensure \"$dir\\User Data\" | Out-Null",
        "    Copy-Item \"$env:APPDATA\\Bitwarden\\*\" \"$dir\\User Data\\\" -Recurse -Force",
        "}"
    ],
    "bin": [
        [
            "Bitwarden.exe",
            "bitwarden",
            "--user-data-dir=\"$dir\\User Data\""
        ]
    ],
    "shortcuts": [
        [
            "Bitwarden.exe",
            "Bitwarden",
            "--user-data-dir=\"$dir\\User Data\""
        ]
    ],
    "persist": "User Data",
    "checkver": {
        "url": "https://api.github.com/repos/bitwarden/clients/releases",
        "regex": "tag/desktop-v([\\d.]+)"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/bitwarden/clients/releases/download/desktop-v$version/Bitwarden-$version-x64.nsis.7z",
                "hash": {
                    "url": "$baseurl/latest.yml",
                    "mode": "extract",
                    "regex": "(?sm)x64.+sha512:\\s+$base64.+$basename"
                }
            },
            "32bit": {
                "url": "https://github.com/bitwarden/clients/releases/download/desktop-v$version/Bitwarden-$version-ia32.nsis.7z",
                "hash": {
                    "url": "$baseurl/latest.yml",
                    "mode": "extract",
                    "regex": "(?sm)ia32.+sha512:\\s+$base64.+$basename"
                }
            }
        }
    }
}
