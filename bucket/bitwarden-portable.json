{
    "version": "2022.5.0",
    "description": "Password management solutions for individuals, teams, and business organizations",
    "homepage": "https://bitwarden.com",
    "license": {
        "identifier": "GPL-3.0-or-later",
        "url": "https://github.com/bitwarden/desktop/blob/master/LICENSE.txt"
    },
    "architecture": {
        "64bit": {
            "url": "https://github.com/bitwarden/desktop/releases/download/v2022.5.0/Bitwarden-2022.5.0-x64.nsis.7z",
            "hash": "sha512:db899e4a3e00c3a3a3a3448ff027af456307d5f9da85cb7b86a3ff34634c19d5b352a5ad4eabf27377ef512d9f50e4d83924791238cfed988021dc8ff38574bd"
        },
        "32bit": {
            "url": "https://github.com/bitwarden/desktop/releases/download/v2022.5.0/Bitwarden-2022.5.0-ia32.nsis.7z",
            "hash": "sha512:269116dd25d16adb770d5f3c70fb6fe38711d195c4ab07632be8da404510552bab57100c6263ea7759c17e8e9c113ea20af947432d42ff16cd0d140527b0c8ce"
        }
    },
    "pre_install": [
        "# copy config from non-portable version",
        "if (!(Test-Path \"$dir\\User Data\\*\") -and (Test-Path \"$env:Appdata\\Bitwarden\")) {",
        "    if (!(Test-Path \"$dir\\User Data\")) { New-Item \"$dir\\User Data\" -ItemType Directory | Out-Null }",
        "    ensure \"$dir\\User Data\" | Out-Null",
        "    Copy-Item \"$env:Appdata\\Bitwarden\\*\" \"$dir\\User Data\\\" -Recurse -Force",
        "}"
    ],
    "bin": [
        [
            "Bitwarden.exe",
            "bitwarden",
            "--user-data-dir=\"$dir\\User Data\""
        ]
    ],
    "shortcuts": [
        [
            "Bitwarden.exe",
            "Bitwarden",
            "--user-data-dir=\"$dir\\User Data\""
        ]
    ],
    "persist": "User Data",
    "checkver": {
        "github": "https://github.com/bitwarden/desktop"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/bitwarden/desktop/releases/download/v$version/Bitwarden-$version-x64.nsis.7z",
                "hash": {
                    "url": "$baseurl/latest.yml",
                    "mode": "extract",
                    "regex": "(?sm)x64.+sha512:\\s+$base64.+$basename"
                }
            },
            "32bit": {
                "url": "https://github.com/bitwarden/desktop/releases/download/v$version/Bitwarden-$version-ia32.nsis.7z",
                "hash": {
                    "url": "$baseurl/latest.yml",
                    "mode": "extract",
                    "regex": "(?sm)ia32.+sha512:\\s+$base64.+$basename"
                }
            }
        }
    }
}
